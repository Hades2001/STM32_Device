#include "Finger.h"
#include "USART.h"

unsigned char USARTFingerRx_Data[20]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
	
unsigned char USARTFingerTx_Data[24]={0xbb,0xaa,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
	
unsigned char FingerLink_CMD[24]={0xBB,0xAA ,0x00 ,0x01 ,0x00 ,0x08 ,0x30 ,0x30 ,0x30 ,0x30 ,0x30 ,0x30 ,0x30 ,0x30 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0xEE ,0x02};
unsigned char FingeCheck_CMD[24]={0xBB,0xAA ,0x00 ,0x17 ,0x00 ,0x04 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00};
unsigned char FingeCloss_CMD[24]={0xBB,0xAA ,0x00 ,0x02 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00};
unsigned char FingeInter_CMD[24]={0xBB,0xAA ,0x00 ,0x02 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00 ,0x00};
	
void FingerSendCMD(unsigned char *CMDData);
void FingerClossCMD(void); 
void FingerCheckCMD(void);

void FingerSendCMD(unsigned char *CMDData)
{
	unsigned char i=0;
	unsigned int Sum_Data=0;
	
	while(i!=22)
	{
		USART2_SendBit(*CMDData);
		Sum_Data+=*CMDData;
		i++;
		CMDData++;
	}
	USART2_SendBit(Sum_Data);
	USART2_SendBit(Sum_Data>>8);
	
}

void FingerCheckCMD(void)
{
	unsigned char i=0;
	unsigned int Sum_Data=0;
	
	while(i!=22)
	{
		USART2_SendBit(FingeCheck_CMD[i]);
		Sum_Data+=FingeCheck_CMD[i];
		i++;
	}
	USART2_SendBit(Sum_Data);
	USART2_SendBit(Sum_Data>>8);
	
}

void FingerClossCMD(void)
{
		FingerSendCMD(FingeCloss_CMD);
}





